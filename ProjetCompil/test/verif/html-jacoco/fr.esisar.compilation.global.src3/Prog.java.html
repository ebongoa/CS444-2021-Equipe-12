<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Prog.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCo Coverage Report</a> &gt; <a href="index.source.html" class="el_package">fr.esisar.compilation.global.src3</a> &gt; <span class="el_source">Prog.java</span></div><h1>Prog.java</h1><pre class="source lang-java linenums">package fr.esisar.compilation.global.src3;

import java.util.List;
import java.util.ArrayList;

/**
 * Classe des programmes de la machine abstraite. Cette classe permet de 
 * construire un programme assembleur.
 */

public class Prog {

   // Le programme assembleur
<span class="nc" id="L14">   private static Prog prog = new Prog();  </span>

   // Le programme assembleur est une liste de lignes
   private List&lt;Ligne&gt; liste;

   /**
    * Re-initialise le programme à une liste vide.
    */
   public static void initialiser() {
<span class="nc" id="L23">      prog = new Prog();</span>
<span class="nc" id="L24">   }</span>

   /**
    * L'instance du programme assembleur.
    */
   public static Prog instance() {
<span class="nc" id="L30">      return prog;</span>
   }


   /** 
    * Etiquette prédéfinie pour les débordements d'intervalle. 
    * Cette étiquette est &quot;Etiq_Debordement_Intervalle&quot;.
    */
<span class="nc" id="L38">   public static final Etiq L_Etiq_Debordement_Intervalle = </span>
<span class="nc" id="L39">      Etiq.lEtiq(&quot;Etiq_Debordement_Intervalle&quot;);</span>

   /**
    * Etiquette prédéfinie pour les débordements arithmétiques.
    * Cette étiquette est &quot;Etiq_Debordement_Arith&quot;.
    */
<span class="nc" id="L45">   public static final Etiq L_Etiq_Debordement_Arith = </span>
<span class="nc" id="L46">      Etiq.lEtiq(&quot;Etiq_Debordement_Arith&quot;);</span>

   /**
    * Etiquette prédéfinie pour les débordements d'indice de tableau.
    * Cette étiquette est &quot;Etiq_Debordement_Indice&quot;.
    */
<span class="nc" id="L52">   public static final Etiq L_Etiq_Debordement_Indice = </span>
<span class="nc" id="L53">      Etiq.lEtiq(&quot;Etiq_Debordement_Indice&quot;);</span>

   /**
    * Etiquette prédéfinie pour le débordement de pile.
    * Cette étiquette est &quot;Etiq_Pile_Pleine&quot;.
    */
<span class="nc" id="L59">   public static final Etiq L_Etiq_Pile_Pleine = </span>
<span class="nc" id="L60">      Etiq.lEtiq(&quot;Etiq_Pile_Pleine&quot;);</span>


   /**
    * Constructeur de programme.
    */
<span class="nc" id="L66">   private Prog() {</span>
<span class="nc" id="L67">      liste = new ArrayList&lt;Ligne&gt;();</span>
<span class="nc" id="L68">   }</span>

   /**
    * Le programme assembleur sous la forme d'une liste de lignes.
    */
   public List&lt;Ligne&gt; getListeLignes() {
<span class="nc" id="L74">      return liste;</span>
   }

   /**
    * Ajoute une ligne à la fin du programme.
    */
   public static void ajouter(Ligne ligne) {
<span class="nc" id="L81">      prog.liste.add(ligne);</span>
<span class="nc" id="L82">   }</span>

   /**
    * Ajoute l'instruction à la fin du programme.
    */
   public static void ajouter(Inst inst) {
<span class="nc" id="L88">      prog.liste.add(new Ligne(null, inst, null));</span>
<span class="nc" id="L89">   }</span>

   /**
    * Ajoute l'instruction et le commentaire à la fin du programme.
    */
   public static void ajouter(Inst inst, String comment) {
<span class="nc" id="L95">      prog.liste.add(new Ligne(null, inst, comment));</span>
<span class="nc" id="L96">   }</span>

   /**
    * Ajoute l'étiquette à la fin du programme.
    */
   public static void ajouter(Etiq etiq) {
<span class="nc" id="L102">      prog.liste.add(new Ligne(etiq, null, null)); </span>
<span class="nc" id="L103">   }</span>

   /**
    * Ajoute l'étiquette et le commentaire à la fin du programme.
    */
   public static void ajouter(Etiq etiq, String comment) {
<span class="nc" id="L109">      prog.liste.add(new Ligne(etiq, null, comment));</span>
<span class="nc" id="L110">   }</span>

   /**
    * Ajoute le commentaire à la fin du programme.
    */
   public static void ajouter(String comment) {
<span class="nc" id="L116">      prog.liste.add(new Ligne(null, null, comment)); </span>
<span class="nc" id="L117">   }</span>

   /**
    * Ajoute le commentaire à la fin du programme, entouré de &quot;-&quot;.
    */
   public static void ajouterComment(String comment) {
<span class="nc" id="L123">      int nbTirets = (70 - comment.length()) / 2;</span>
<span class="nc bnc" id="L124" title="All 2 branches missed.">      for (int i = 0; i &lt; nbTirets; i++) {</span>
<span class="nc" id="L125">         comment = &quot;-&quot; + comment + &quot;-&quot;; </span>
      }
<span class="nc bnc" id="L127" title="All 2 branches missed.">      if (comment.length() &lt; 70) {</span>
<span class="nc" id="L128">         comment = comment + &quot;-&quot;; </span>
      }
<span class="nc" id="L130">      ajouter(comment);</span>
<span class="nc" id="L131">   }</span>

   /**
    * Ajoute le commentaire à la fin du programme, encadré de deux lignes 
    * de &quot;-&quot;.
    */
   public static void ajouterGrosComment(String comment) {
<span class="nc" id="L138">      String ligneTirets = </span>
      &quot;----------------------------------------------------------------------&quot;;
<span class="nc" id="L140">      ajouterComment(ligneTirets);</span>
<span class="nc" id="L141">      int nbEsp = (70 - comment.length()) / 2;</span>
<span class="nc bnc" id="L142" title="All 2 branches missed.">      for (int i = 0; i &lt; nbEsp; i++) {</span>
<span class="nc" id="L143">         comment = &quot; &quot; + comment;</span>
      }
<span class="nc" id="L145">      ajouterComment(comment);</span>
<span class="nc" id="L146">      ajouterComment(ligneTirets);</span>
<span class="nc" id="L147">   }</span>

   /**
    * Affiche le programme complet.
    */
   public static void afficher() {
<span class="nc bnc" id="L153" title="All 2 branches missed.">      for (Ligne ligne : prog.liste) {</span>
<span class="nc" id="L154">         System.out.print(ligne.toString());</span>
<span class="nc" id="L155">      }</span>
<span class="nc" id="L156">   }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>